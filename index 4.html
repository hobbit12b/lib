<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Toetsomgeving</title>
<style>
    :root{
        --main-blue:#0D99FF;
        --light-grey:#F0F2F5;          /* drager achter keypad */
        --medium-grey:#E9ECEF;         /* randkleur antwoordvak en paginacirkels */
        --tile-border:#ECECEC;         /* rand tegels */
        --tile-shadow:rgba(0,0,0,.06); /* schaduw tegels */
        --text-color:#222;
        --white:#FFFFFF;
        --red:#C44444;

        /* compacter keypad */
        --keypad-maxwidth:320px;
        --keypad-gap:10px;
    }

    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
        margin:0;
        font-family:'Poppins',sans-serif;
        background:var(--light-grey);
        display:flex;
        justify-content:center;
        align-items:center;
        padding:1.5vh;
        color:var(--text-color);
    }

    /* Container */
    .toets-container{
        width:100%; height:100%;
        max-width:1400px; max-height:900px;
        background:var(--white);
        border-radius:20px;
        box-shadow:0 10px 40px rgba(0,0,0,.1);
        display:flex; flex-direction:column; overflow:hidden;
    }

    /* Header */
    .toets-header{
        background:var(--main-blue); color:var(--white);
        padding:1.5vh 3vw; display:flex; justify-content:space-between; align-items:center;
        font-weight:700; line-height:1.35; font-size:clamp(1rem,2.2vh,1.25rem);
    }
    .play-button{background:none;border:0;cursor:pointer;padding:0 10px}
    .play-button svg{width:clamp(30px,4.5vh,42px);height:clamp(30px,4.5vh,42px);fill:#fff}

    /* Main */
    .toets-main{
        flex:1;
        display:flex;
        gap:clamp(16px,3vw,32px);
        padding:clamp(16px,3vh,32px);
        min-height:0;
        align-items:stretch; /* beide kolommen delen dezelfde bodlijn */
    }
    .image-container{
        flex:1.5;
        display:flex;
        justify-content:center;
        align-items:flex-end; /* onderkant illustratie op bodlijn */
        min-width:0;
    }
    .image-container img{
        max-width:100%; max-height:100%;
        object-fit:contain; border-radius:10px;
    }

    /* Rechterkolom, zorgt dat antwoordvak onderaan gelijk loopt */
    .interaction-container{
        flex:1;
        display:flex;
        flex-direction:column;
        align-items:center;
        justify-content:flex-end; /* onderkant van deze kolom uitlijnen met afbeelding */
        gap:12px;
        min-width:0;
    }

    /* Drager achter keypad */
    .keypad-area{
        background:var(--light-grey);
        border:2px solid var(--medium-grey);
        border-radius:18px;
        padding:14px;                 /* compacter */
        width:100%; max-width:var(--keypad-maxwidth);
    }

    /* Grid 3x4 */
    .keypad{
        display:grid;
        grid-template-columns:repeat(3,1fr);
        gap:var(--keypad-gap);
    }

    /* Tegels, iets kleiner dan voorheen */
    .keypad-button{
        aspect-ratio:1/1;
        border-radius:16px;
        background:var(--white);
        border:2px solid var(--tile-border);
        box-shadow:0 2px 0 var(--tile-shadow);
        display:flex; align-items:center; justify-content:center;
        font-weight:700; font-size:clamp(1.2rem,3.4vh,1.8rem);
        color:#000; cursor:pointer; user-select:none;
        transition:transform .05s ease;
    }
    .keypad-button:active{ transform:translateY(1px) }
    .keypad-button.empty{ visibility:hidden }

    /* Rode terugknop rechts onderin, wit icoon */
    .keypad-button.backspace{
        background:var(--red);
        border-color:var(--red);
        box-shadow:0 2px 0 rgba(0,0,0,.08);
    }
    .keypad-button.backspace svg{width:46%; height:46%; fill:#fff}

    /* Antwoordvak direct onder keypad, onderrand op dezelfde lijn als illustratie */
    .antwoord-wrap{
        width:100%;
        max-width:var(--keypad-maxwidth);
        margin-top:6px;  /* dichter onder keypad */
    }
    .antwoord-vak{
        width:100%;
        border:2px solid var(--medium-grey);
        border-radius:12px;
        min-height:56px;
        padding:10px 16px;
        font-size:clamp(1.1rem,2.6vh,1.4rem);
        background:#fff;
    }
    .antwoord-vak:focus{ outline:2px solid var(--main-blue); border-color:var(--main-blue) }

    /* Footer met genummerde cirkels */
    .toets-footer{
        background:#F8F9FA; border-top:1px solid #E9ECEF;
        padding:1.5vh 3vw; display:flex; justify-content:space-between; align-items:center;
    }
    .footer-button{
        padding:1.5vh 2.5vw; border:0; border-radius:25px; cursor:pointer;
        font-size:clamp(.9rem,2vh,1.05rem); font-weight:500;
    }
    .vorige-button{background:#E9ECEF; color:#6D6D6D}
    .volgende-button{background:var(--main-blue); color:#fff}

    /* Paginacirkels, exact dezelfde grijstint als antwoordvakrand */
    .pagination{display:flex; align-items:center; gap:clamp(8px,1.2vw,14px)}
    .page-dot{
        width:clamp(42px,6.2vh,56px); height:clamp(42px,6.2vh,56px);
        border-radius:50%;
        background:var(--medium-grey);
        border:2px solid var(--medium-grey);
        color:#4B4B4B;
        display:inline-flex; align-items:center; justify-content:center;
        font-weight:700; font-size:clamp(.95rem,2.2vh,1.15rem);
        transition:all .15s ease; cursor:pointer; user-select:none;
    }
    .page-dot.active{
        width:calc(clamp(42px,6.2vh,56px) + 8px);
        height:calc(clamp(42px,6.2vh,56px) + 8px);
        background:var(--main-blue); color:#fff; border-color:var(--main-blue);
    }

    @media (max-width:768px) and (orientation:portrait),(max-height:650px){
        body{padding:0}
        .toets-container{border-radius:0}
        .toets-main{flex-direction:column; overflow-y:auto}
        .image-container{min-height:150px; align-items:flex-end}
        .keypad-area{padding:12px}
    }
</style>
</head>
<body>

<div class="toets-container">

    <header class="toets-header">
        <span id="vraag-tekst">Sophie heeft een briefje van tien euro, twee muntjes van twee euro en een muntje van één euro.<br>Hoeveel euro heeft Sophie in totaal?</span>
        <button class="play-button" id="play-vraag-button" aria-label="Lees vraag voor">
            <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
        </button>
    </header>

    <main class="toets-main">
        <div class="image-container">
            <img src="01 geld.jpg" alt="Sophie met een 10 euro biljet, twee 2 euro munten en een 1 euro munt"/>
        </div>

        <div class="interaction-container">
            <!-- Drager + keypad -->
            <div class="keypad-area">
                <div class="keypad">
                    <button class="keypad-button">1</button>
                    <button class="keypad-button">2</button>
                    <button class="keypad-button">3</button>
                    <button class="keypad-button">4</button>
                    <button class="keypad-button">5</button>
                    <button class="keypad-button">6</button>
                    <button class="keypad-button">7</button>
                    <button class="keypad-button">8</button>
                    <button class="keypad-button">9</button>
                    <button class="keypad-button empty" aria-hidden="true"></button>
                    <button class="keypad-button">0</button>
                    <button class="keypad-button backspace" aria-label="Wissen">
                        <svg viewBox="0 0 24 24">
                            <path d="M19 7H9L5 12l4 5h10a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2Zm-3.41 8.41L14.17 14l1.42-1.41L14.17 11l1.42-1.41L17 11.17l1.41-1.58L19.83 11l-1.42 1.41L19.83 14l-1.42 1.41L17 13.83l-1.41 1.58Z"/>
                        </svg>
                    </button>
                </div>
            </div>

            <!-- Antwoordvak onderaan, lijnt met onderkant illustratie -->
            <div class="antwoord-wrap">
                <input type="text" class="antwoord-vak" placeholder="Antwoordvak" inputmode="numeric" />
            </div>
        </div>
    </main>

    <footer class="toets-footer">
        <button class="footer-button vorige-button" id="btn-prev">Vorige</button>
        <div class="pagination" role="tablist" aria-label="Pagina navigatie">
            <button class="page-dot active" role="tab" aria-selected="true" aria-label="Pagina 1">1</button>
            <button class="page-dot" role="tab" aria-selected="false" aria-label="Pagina 2">2</button>
            <button class="page-dot" role="tab" aria-selected="false" aria-label="Pagina 3">3</button>
            <button class="page-dot" role="tab" aria-selected="false" aria-label="Pagina 4">4</button>
            <button class="page-dot" role="tab" aria-selected="false" aria-label="Pagina 5">5</button>
        </div>
        <button class="footer-button volgende-button" id="btn-next">Volgende</button>
    </footer>

</div>

<script>
document.addEventListener('DOMContentLoaded',() => {
    const keypadButtons=document.querySelectorAll('.keypad-button');
    const antwoordVak=document.querySelector('.antwoord-vak');
    const playButton=document.getElementById('play-vraag-button');
    const vraagTekst=document.getElementById('vraag-tekst').innerHTML.replace('<br>',' ');

    /* keypad invoer */
    keypadButtons.forEach(btn=>{
        btn.addEventListener('click',()=>{
            if(btn.classList.contains('backspace')){
                antwoordVak.value=antwoordVak.value.slice(0,-1);
            }else if(btn.textContent.trim()!==''){
                antwoordVak.value+=btn.textContent.trim();
            }
            antwoordVak.focus();
        });
    });
    antwoordVak.addEventListener('keydown',e=>{
        if(!/^[0-9]$/.test(e.key)&&e.key.length===1){ e.preventDefault(); }
    });

    /* voorlezen */
    playButton.addEventListener('click',()=>{
        speechSynthesis.cancel();
        const u=new SpeechSynthesisUtterance(vraagTekst);
        u.lang='nl-NL';
        const voices=speechSynthesis.getVoices();
        let v=voices.find(x=>x.lang==='nl-NL'&&/female|vrouw|ellen|xander/i.test(x.name));
        if(!v){ v=voices.find(x=>x.lang==='nl-NL'); }
        if(v){ u.voice=v; }
        u.pitch=1.1; u.rate=0.95;
        speechSynthesis.speak(u);
    });
    if(speechSynthesis.onvoiceschanged!==undefined){
        speechSynthesis.onvoiceschanged=()=>speechSynthesis.getVoices();
    }

    /* paginanavigatie */
    const dots=[...document.querySelectorAll('.page-dot')];
    const prev=document.getElementById('btn-prev');
    const next=document.getElementById('btn-next');
    function setActive(i){
        dots.forEach((d,idx)=>{
            const active=idx===i;
            d.classList.toggle('active',active);
            d.setAttribute('aria-selected',String(active));
        });
    }
    dots.forEach((d,i)=>{
        d.addEventListener('click',()=>setActive(i));
        d.addEventListener('keydown',e=>{
            if(e.key==='Enter'||e.key===' '){ e.preventDefault(); setActive(i); }
        });
    });
    prev.addEventListener('click',()=>{
        const cur=dots.findIndex(d=>d.classList.contains('active'));
        setActive(Math.max(0,cur-1));
    });
    next.addEventListener('click',()=>{
        const cur=dots.findIndex(d=>d.classList.contains('active'));
        setActive(Math.min(dots.length-1,cur+1));
    });
});
</script>

</body>
</html>
