<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Toetsomgeving</title>
<style>
  :root{
    --main-blue:#0D99FF;
    --light-grey:#F0F2F5;
    --medium-grey:#E9ECEF;
    --tile-border:#ECECEC;
    --tile-shadow:rgba(0,0,0,.06);
    --text-color:#222;
    --white:#FFFFFF;
    --red:#C44444;

    --keypad-maxwidth:300px;
    --keypad-gap:10px;

    --page-padding-x:24px;
  }

  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');

  *{box-sizing:border-box}
  html,body{min-height:100%}
  body{
    margin:0;
    font-family:'Poppins',sans-serif;
    background:var(--light-grey);
    display:flex;
    justify-content:center;
    align-items:stretch;
    padding:.8vh;
    color:var(--text-color);
  }

  /* Kaart gebruikt grid: [blauwe lijn] [vraag] [rode zone] [footer] */
  .toets-container{
    width:100%;
    background:var(--white);
    border-radius:20px;
    box-shadow:0 10px 40px rgba(0,0,0,.1);
    display:grid;
    grid-template-rows:auto auto 1fr auto;
    min-height:100vh;
    max-width:min(1700px, 98vw);
    overflow:visible;
  }
  @supports (min-height: 100dvh){
    .toets-container{ min-height:100dvh; }
  }

  /* Blauwe lijn en vraag */
  .brand-strip-wrap{ padding:10px var(--page-padding-x) 0 var(--page-padding-x); }
  .brand-strip{
    height:4px; border-radius:4px; background:var(--main-blue);
    box-shadow:0 1px 0 rgba(255,255,255,.35) inset;
  }
  .vraag-blok{
    display:flex; align-items:flex-start; justify-content:space-between; gap:12px;
    padding:14px var(--page-padding-x) 8px var(--page-padding-x);
  }
  .vraag-tekst{
    font-weight:600; color:#1f2937;
    font-size:clamp(1.05rem, 2.4vh, 1.3rem);
    line-height:1.55; margin:0;
  }
  .play-button{
    background:var(--main-blue); border:0; border-radius:10px; padding:8px 10px; cursor:pointer;
  }
  .play-button svg{width:28px;height:28px;fill:#fff}

  /* RODE RECHTHOEK: schaalbare middenzone, altijd gecentreerd */
  .toets-main{
    display:flex;
    align-items:center;              /* verticaal midden */
    justify-content:center;
    padding:0 var(--page-padding-x) 16px var(--page-padding-x);
    min-height:0;                    /* nodig voor correcte hoogteberekening */
    overflow:hidden;                 /* niets laten uitsteken bij schalen */
  }
  .fitbox{
    flex:1;
    display:flex;
    align-items:center;
    justify-content:center;
    min-height:0;
  }
  .fitcontent{
    width:100%;
    display:flex;
    gap:clamp(16px,3vw,32px);
    align-items:center;              /* links en rechts op dezelfde middenlijn */
    transform-origin:top center;
  }

  .image-container{
    flex:1.5 1 0;
    display:flex; justify-content:center; align-items:center; min-width:0;
  }
  .image-container img{
    width:78%;
    max-width:78%;
    max-height:82%;
    object-fit:contain; border-radius:10px;
  }

  .interaction-container{
    flex:1 1 0;
    display:flex; flex-direction:column; align-items:center; justify-content:center;
    gap:10px; min-width:0;
  }
  .ia-outer{ width:100%; max-width:var(--keypad-maxwidth); position:relative; }
  .ia-stack{
    width:100%;
    display:flex;
    flex-direction:column;
    justify-content:flex-start;      /* niets uitrekken naar boven of onder */
    align-items:stretch;
    gap:10px;                         /* normale tussenruimte */
  }

  .keypad-area{
    background:var(--light-grey);
    border:2px solid var(--medium-grey);
    border-radius:16px;
    padding:12px;
    width:100%;
  }
  .keypad{
    display:grid;
    grid-template-columns:repeat(3,1fr);
    gap:var(--keypad-gap);
  }
  .keypad-button{
    aspect-ratio:1/1;
    border-radius:14px;
    background:var(--white);
    border:2px solid var(--tile-border);
    box-shadow:0 2px 0 var(--tile-shadow);
    display:flex; align-items:center; justify-content:center;
    font-weight:700; font-size:clamp(1.05rem,3.1vh,1.6rem);
    color:#000; cursor:pointer; user-select:none;
  }
  .keypad-button.empty{ visibility:hidden }
  .keypad-button.backspace{ background:var(--red); border-color:var(--red); }
  .keypad-button.backspace svg{ width:44%; height:44%; fill:#fff; }

  .antwoord-wrap{ width:100%; }
  .antwoord-vak{
    width:100%; border:2px solid var(--medium-grey); border-radius:12px;
    min-height:50px;
    padding:8px 14px;
    font-size:clamp(1rem,2.3vh,1.25rem);
    background:#fff;
  }
  .antwoord-vak:focus{ outline:2px solid var(--main-blue); border-color:var(--main-blue); }

  /* Footer onderin het grid, geen sticky meer nodig */
  .toets-footer{
    background:#F8F9FA; border-top:1px solid #E9ECEF;
    padding:8px var(--page-padding-x);
    display:flex; justify-content:space-between; align-items:center;
  }
  .footer-button{
    padding:10px 18px; border:0; border-radius:25px; cursor:pointer;
    font-size:clamp(.9rem,2vh,1.05rem); font-weight:500;
  }
  .vorige-button{background:#E9ECEF; color:#6D6D6D}
  .volgende-button{background:var(--main-blue); color:#fff}

  .pagination{display:flex; align-items:center; gap:clamp(8px,1.2vw,14px)}
  .page-dot{
    width:clamp(38px,5.6vh,50px); height:clamp(38px,5.6vh,50px);
    border-radius:50%; background:var(--medium-grey); border:2px solid var(--medium-grey);
    color:#4B4B4B; display:inline-flex; align-items:center; justify-content:center;
    font-weight:700; font-size:clamp(.9rem,2vh,1.05rem);
    transition:all .15s ease; cursor:pointer; user-select:none;
  }
  .page-dot.active{
    width:calc(clamp(38px,5.6vh,50px) + 8px);
    height:calc(clamp(38px,5.6vh,50px) + 8px);
    background:var(--main-blue); color:#fff; border-color:var(--main-blue);
  }

  /* Smal scherm stapelt, schaal blijft actief */
  @media (max-width: 900px){
    .fitcontent{ flex-direction:column; align-items:center; }
    .toets-main{ padding:0 16px 72px 16px; }
    .brand-strip-wrap{ padding:10px 16px 0 16px; }
    .vraag-blok{ padding:12px 16px 6px 16px; }
    .image-container{ min-height:150px; }
    .image-container img{ width:100%; max-width:100%; max-height:70%; height:auto; }
    .interaction-container{ justify-content:flex-start; align-items:center; }
    .ia-outer{ max-width:300px; }
  }
</style>
</head>
<body>

<div class="toets-container">

  <div class="brand-strip-wrap"><div class="brand-strip" aria-hidden="true"></div></div>

  <div class="vraag-blok">
    <p id="vraag-tekst" class="vraag-tekst">
      Sophie heeft een briefje van tien euro, twee muntjes van twee euro en een muntje van één euro<br>
      Hoeveel euro heeft Sophie in totaal?
    </p>
    <button class="play-button" id="play-vraag-button" aria-label="Lees vraag voor">
      <svg viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
    </button>
  </div>

  <main class="toets-main" id="toets-main">
    <div class="fitbox">
      <div class="fitcontent" id="fitcontent">
        <div class="image-container">
          <img id="opdracht-afbeelding" src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDL/2wBDAQkJCQwLDBgNDRgyIRwhMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjL/wAARCAHCA7wDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD2aiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKAC-
" alt="Sophie met een 10 euro biljet, twee 2 euro munten en een 1 euro munt"/>
        </div>

        <div class="interaction-container">
          <div class="ia-outer">
            <div class="ia-stack">
              <div class="keypad-area">
                <div class="keypad">
                  <button class="keypad-button">1</button>
                  <button class="keypad-button">2</button>
                  <button class="keypad-button">3</button>
                  <button class="keypad-button">4</button>
                  <button class="keypad-button">5</button>
                  <button class="keypad-button">6</button>
                  <button class="keypad-button">7</button>
                  <button class="keypad-button">8</button>
                  <button class="keypad-button">9</button>
                  <button class="keypad-button empty" aria-hidden="true"></button>
                  <button class="keypad-button">0</button>
                  <button class="keypad-button backspace" aria-label="Wissen">
                    <svg viewBox="0 0 24 24">
                      <path d="M19 7H9L5 12l4 5h10a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2Zm-3.41 8.41L14.17 14l1.42-1.41L14.17 11l1.42-1.41L17 11.17l1.41-1.58L19.83 11l-1.42 1.41L19.83 14l-1.42 1.41L17 13.83l-1.41 1.58Z"/>
                    </svg>
                  </button>
                </div>
              </div>

              <div class="antwoord-wrap">
                <input type="text" class="antwoord-vak" placeholder="Antwoordvak" inputmode="numeric" />
              </div>
            </div>
          </div>
        </div>

      </div></div></main>

  <footer class="toets-footer" id="toets-footer">
    <button class="footer-button vorige-button" id="btn-prev">Vorige</button>
    <div class="pagination" role="tablist" aria-label="Pagina navigatie">
      <button class="page-dot active" role="tab" aria-selected="true" aria-label="Pagina 1">1</button>
      <button class="page-dot" role="tab" aria-selected="false" aria-label="Pagina 2">2</button>
      <button class="page-dot" role="tab" aria-selected="false" aria-label="Pagina 3">3</button>
      <button class="page-dot" role="tab" aria-selected="false" aria-label="Pagina 4">4</button>
      <button class="page-dot" role="tab" aria-selected="false" aria-label="Pagina 5">5</button>
    </div>
    <button class="footer-button volgende-button" id="btn-next">Volgende</button>
  </footer>

</div>

<script>
document.addEventListener('DOMContentLoaded',() => {
  const keypadButtons=document.querySelectorAll('.keypad-button');
  const antwoordVak=document.querySelector('.antwoord-vak');
  const playButton=document.getElementById('play-vraag-button');
  const vraagNode=document.getElementById('vraag-tekst');
  const vraagTekst=vraagNode ? vraagNode.innerHTML.replace('<br>',' ') : '';

  /* keypad */
  keypadButtons.forEach(btn=>{
    btn.addEventListener('click',()=>{
      if(btn.classList.contains('backspace')){
        antwoordVak.value=antwoordVak.value.slice(0,-1);
      }else if(btn.textContent.trim()!==''){
        antwoordVak.value+=btn.textContent.trim();
      }
      antwoordVak.focus();
    });
  });
  antwoordVak.addEventListener('keydown',e=>{
    if(!/^[0-9]$/.test(e.key)&&e.key.length===1){ e.preventDefault(); }
  });

  /* voorleesfunctie */
  playButton?.addEventListener('click',()=>{
    if(!('speechSynthesis' in window)) return;
    speechSynthesis.cancel();
    const u=new SpeechSynthesisUtterance(vraagTekst);
    u.lang='nl-NL';
    const voices=speechSynthesis.getVoices();
    let v=voices.find(x=>x.lang==='nl-NL'&&/female|vrouw|ellen|xander/i.test(x.name));
    if(!v){ v=voices.find(x=>x.lang==='nl-NL'); }
    if(v){ u.voice=v; }
    u.pitch=1.1; u.rate=0.95;
    speechSynthesis.speak(u);
  });

  /* Schaal de volledige rode zone zodat deze in de grid-rij past
     Footer is altijd zichtbaar doordat die een eigen rij heeft */
  const main = document.getElementById('toets-main');
  const fit  = document.getElementById('fitcontent');
  const img  = document.getElementById('opdracht-afbeelding');

  function withNoTransform(el, fn){
    const prev = el.style.transform;
    el.style.transform = 'none';
    const out = fn();
    el.style.transform = prev;
    return out;
  }

  function fitToRow(){
    if(!main || !fit) return;

    /* beschikbare ruimte binnen de rode rij, exclusief padding */
    const cs = getComputedStyle(main);
    const availW = main.clientWidth  - parseFloat(cs.paddingLeft) - parseFloat(cs.paddingRight);
    const availH = main.clientHeight - parseFloat(cs.paddingTop)  - parseFloat(cs.paddingBottom);

    /* natuurlijke afmeting van de ongeschaalde inhoud */
    const rect = withNoTransform(fit, ()=> fit.getBoundingClientRect());
    const natW = rect.width;
    const natH = rect.height;

    if(natW<=0 || natH<=0 || availW<=0 || availH<=0){ return; }

    /* alleen verkleinen wanneer nodig, nooit vergroten */
    const s = Math.min(1, availW / natW, availH / natH);

    fit.style.transform = `scale(${s})`;
  }

  window.addEventListener('resize', fitToRow, {passive:true});
  if(img && !img.complete){ img.addEventListener('load', fitToRow, {once:true}); }
  /* extra run na font load, voorkomt spring */
  if(document.fonts && document.fonts.ready){ document.fonts.ready.then(fitToRow); }
  fitToRow();

  /* paginanavigatie */
  const dots=[...document.querySelectorAll('.page-dot')];
  const prev=document.getElementById('btn-prev');
  const next=document.getElementById('btn-next');
  function setActive(i){
    dots.forEach((d,idx)=>{
      const active=idx===i;
      d.classList.toggle('active',active);
      d.setAttribute('aria-selected',String(active));
    });
  }
  dots.forEach((d,i)=>{
    d.addEventListener('click',()=>setActive(i));
    d.addEventListener('keydown',e=>{
      if(e.key==='Enter'||e.key===' '){ e.preventDefault(); setActive(i); }
    });
  });
  prev.addEventListener('click',()=>{
    const cur=dots.findIndex(d=>d.classList.contains('active'));
    setActive(Math.max(0,cur-1));
  });
  next.addEventListener('click',()=>{
    const cur=dots.findIndex(d=>d.classList.contains('active'));
    setActive(Math.min(dots.length-1,cur+1));
  });
});
</script>

</body>
</html>
